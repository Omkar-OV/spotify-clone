{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\omkar vishwakarma\\\\spotify-clone\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import\"../Styles/MusicPlayer.css\";import{FaBackward,FaForward,FaHeart,FaPause,FaPlay,FaRegHeart,FaShareAlt,FaStepBackward,FaStepForward}from\"react-icons/fa\";import{BsDownload}from\"react-icons/bs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MusicPlayer(_ref){var _audioPlayer$current2,_audioPlayer$current3;var song=_ref.song,imgSrc=_ref.imgSrc;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLove=_useState2[0],setLoved=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPlaying=_useState4[0],setPlaying=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),duration=_useState6[0],setDuration=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),currentTime=_useState8[0],setCurrentTime=_useState8[1];var audioPlayer=useRef();//audio tag\nvar progressBar=useRef();//progressbar\nvar animationRef=useRef();useEffect(function(){var _audioPlayer$current;var seconds=Math.floor(audioPlayer===null||audioPlayer===void 0?void 0:(_audioPlayer$current=audioPlayer.current)===null||_audioPlayer$current===void 0?void 0:_audioPlayer$current.duration);setDuration(seconds);},[audioPlayer===null||audioPlayer===void 0?void 0:(_audioPlayer$current2=audioPlayer.current)===null||_audioPlayer$current2===void 0?void 0:_audioPlayer$current2.loadedmetadata,audioPlayer===null||audioPlayer===void 0?void 0:(_audioPlayer$current3=audioPlayer.current)===null||_audioPlayer$current3===void 0?void 0:_audioPlayer$current3.readyState]);var changePlayPause=function changePlayPause(){var prevValue=isPlaying;if(!prevValue){audioPlayer.current.play();animationRef.current=requestAnimationFrame(whilePlaying);}else{audioPlayer.current.pause();cancelAnimationFrame(animationRef.current);}setPlaying(!prevValue);};var CalculateTime=function CalculateTime(sec){var minutes=Math.floor(sec/60);var returnMin=minutes<10?\"\".concat(minutes):\"\".concat(minutes);var seconds=Math.floor(sec%60);var returnSec=minutes<10?\"\".concat(seconds):\"\".concat(seconds);return\"\".concat(returnMin,\":\").concat(returnSec);};var whilePlaying=function whilePlaying(){progressBar.current.value=audioPlayer.current.currentTime;changeCurrentTime();animationRef.current=requestAnimationFrame(whilePlaying);};var changeProgress=function changeProgress(){audioPlayer.current.currentTime=progressBar.current.value;changeCurrentTime();};var changeCurrentTime=function changeCurrentTime(){audioPlayer.current.currentTime=progressBar.current.value;progressBar.current.style.setProperty(\"--player-played\",\"\".concat(progressBar.current.value/duration*100,\"%\"));setCurrentTime(progressBar.current.value);};var changeLoved=function changeLoved(){setLoved(!isLove);};//console.log(song, imgSrc);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"musicPlayer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"songImage\",children:/*#__PURE__*/_jsx(\"img\",{src:imgSrc,alt:\"check connection\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"songAttributes\",children:[/*#__PURE__*/_jsx(\"audio\",{src:song,preload:\"metadata\",ref:audioPlayer}),/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loved\",onClick:changeLoved,children:isLove?/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaHeart,{})}):/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaRegHeart,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"download\",children:/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(BsDownload,{})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"middle\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"back\",children:[/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaStepBackward,{})}),/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaBackward,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"palyPause\",onClick:changePlayPause,children:isPlaying?/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaPause,{})}):/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaPlay,{})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"forward\",children:[/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaForward,{})}),/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaStepForward,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right\",children:/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(FaShareAlt,{})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"currentTime\",children:CalculateTime(currentTime)}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"progressBar\",ref:progressBar,onChange:changeProgress}),/*#__PURE__*/_jsx(\"div\",{className:\"duration\",children:duration&&!isNaN(duration)&&CalculateTime(duration)?CalculateTime(duration):\"\"})]})]})]});}export{MusicPlayer};","map":{"version":3,"sources":["C:/Users/omkar vishwakarma/spotify-clone/src/Components/MusicPlayer.js"],"names":["React","useState","useRef","useEffect","FaBackward","FaForward","FaHeart","FaPause","FaPlay","FaRegHeart","FaShareAlt","FaStepBackward","FaStepForward","BsDownload","MusicPlayer","song","imgSrc","isLove","setLoved","isPlaying","setPlaying","duration","setDuration","currentTime","setCurrentTime","audioPlayer","progressBar","animationRef","seconds","Math","floor","current","loadedmetadata","readyState","changePlayPause","prevValue","play","requestAnimationFrame","whilePlaying","pause","cancelAnimationFrame","CalculateTime","sec","minutes","returnMin","returnSec","value","changeCurrentTime","changeProgress","style","setProperty","changeLoved","isNaN"],"mappings":"uIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAO,2BAAP,CACA,OACEC,UADF,CAEEC,SAFF,CAGEC,OAHF,CAIEC,OAJF,CAKEC,MALF,CAMEC,UANF,CAOEC,UAPF,CAQEC,cARF,CASEC,aATF,KAUO,gBAVP,CAWA,OAASC,UAAT,KAA2B,gBAA3B,C,wFAEA,QAASC,CAAAA,WAAT,MAAuC,oDAAhBC,CAAAA,IAAgB,MAAhBA,IAAgB,CAAVC,MAAU,MAAVA,MAAU,CACrC,cAA2Bf,QAAQ,CAAC,KAAD,CAAnC,wCAAOgB,MAAP,eAAeC,QAAf,eACA,eAAgCjB,QAAQ,CAAC,KAAD,CAAxC,yCAAOkB,SAAP,eAAkBC,UAAlB,eACA,eAAgCnB,QAAQ,CAAC,CAAD,CAAxC,yCAAOoB,QAAP,eAAiBC,WAAjB,eACA,eAAsCrB,QAAQ,CAAC,CAAD,CAA9C,yCAAOsB,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,WAAW,CAAGvB,MAAM,EAA1B,CAA8B;AAC9B,GAAMwB,CAAAA,WAAW,CAAGxB,MAAM,EAA1B,CAA8B;AAC9B,GAAMyB,CAAAA,YAAY,CAAGzB,MAAM,EAA3B,CAEAC,SAAS,CAAC,UAAM,0BACd,GAAMyB,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWL,WAAX,SAAWA,WAAX,uCAAWA,WAAW,CAAEM,OAAxB,+CAAW,qBAAsBV,QAAjC,CAAhB,CACAC,WAAW,CAACM,OAAD,CAAX,CACD,CAHQ,CAGN,CAACH,WAAD,SAACA,WAAD,wCAACA,WAAW,CAAEM,OAAd,gDAAC,sBAAsBC,cAAvB,CAAuCP,WAAvC,SAAuCA,WAAvC,wCAAuCA,WAAW,CAAEM,OAApD,gDAAuC,sBAAsBE,UAA7D,CAHM,CAAT,CAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAMC,CAAAA,SAAS,CAAGhB,SAAlB,CACA,GAAI,CAACgB,SAAL,CAAgB,CACdV,WAAW,CAACM,OAAZ,CAAoBK,IAApB,GACAT,YAAY,CAACI,OAAb,CAAuBM,qBAAqB,CAACC,YAAD,CAA5C,CACD,CAHD,IAGO,CACLb,WAAW,CAACM,OAAZ,CAAoBQ,KAApB,GACAC,oBAAoB,CAACb,YAAY,CAACI,OAAd,CAApB,CACD,CACDX,UAAU,CAAC,CAACe,SAAF,CAAV,CACD,CAVD,CAYA,GAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,GAAD,CAAS,CAC7B,GAAMC,CAAAA,OAAO,CAAGd,IAAI,CAACC,KAAL,CAAWY,GAAG,CAAG,EAAjB,CAAhB,CACA,GAAME,CAAAA,SAAS,CAAGD,OAAO,CAAG,EAAV,WAAkBA,OAAlB,YAAiCA,OAAjC,CAAlB,CAEA,GAAMf,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWY,GAAG,CAAG,EAAjB,CAAhB,CACA,GAAMG,CAAAA,SAAS,CAAGF,OAAO,CAAG,EAAV,WAAkBf,OAAlB,YAAiCA,OAAjC,CAAlB,CAEA,gBAAUgB,SAAV,aAAuBC,SAAvB,EACD,CARD,CAUA,GAAMP,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBZ,WAAW,CAACK,OAAZ,CAAoBe,KAApB,CAA4BrB,WAAW,CAACM,OAAZ,CAAoBR,WAAhD,CACAwB,iBAAiB,GACjBpB,YAAY,CAACI,OAAb,CAAuBM,qBAAqB,CAACC,YAAD,CAA5C,CACD,CAJD,CAMA,GAAMU,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BvB,WAAW,CAACM,OAAZ,CAAoBR,WAApB,CAAkCG,WAAW,CAACK,OAAZ,CAAoBe,KAAtD,CACAC,iBAAiB,GAClB,CAHD,CAKA,GAAMA,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BtB,WAAW,CAACM,OAAZ,CAAoBR,WAApB,CAAkCG,WAAW,CAACK,OAAZ,CAAoBe,KAAtD,CACApB,WAAW,CAACK,OAAZ,CAAoBkB,KAApB,CAA0BC,WAA1B,CACE,iBADF,WAEMxB,WAAW,CAACK,OAAZ,CAAoBe,KAApB,CAA4BzB,QAA7B,CAAyC,GAF9C,OAKAG,cAAc,CAACE,WAAW,CAACK,OAAZ,CAAoBe,KAArB,CAAd,CACD,CARD,CAUA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBjC,QAAQ,CAAC,CAACD,MAAF,CAAR,CACD,CAFD,CAIA;AACA,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,GAAG,CAAED,MAAV,CAAkB,GAAG,CAAC,kBAAtB,EADF,EADF,cAIE,aAAK,SAAS,CAAC,gBAAf,wBACE,cAAO,GAAG,CAAED,IAAZ,CAAkB,OAAO,CAAC,UAA1B,CAAqC,GAAG,CAAEU,WAA1C,EADF,cAGE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,OAAf,CAAuB,OAAO,CAAE0B,WAAhC,UACGlC,MAAM,cACL,gCACE,KAAC,OAAD,IADF,EADK,cAKL,gCACE,KAAC,UAAD,IADF,EANJ,EADF,cAaE,YAAK,SAAS,CAAC,UAAf,uBACE,gCACE,KAAC,UAAD,IADF,EADF,EAbF,GADF,cAoBE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAK,SAAS,CAAC,MAAf,wBACE,gCACE,KAAC,cAAD,IADF,EADF,cAIE,gCACE,KAAC,UAAD,IADF,EAJF,GADF,cASE,YAAK,SAAS,CAAC,WAAf,CAA2B,OAAO,CAAEiB,eAApC,UACGf,SAAS,cACR,gCACE,KAAC,OAAD,IADF,EADQ,cAKR,gCACE,KAAC,MAAD,IADF,EANJ,EATF,cAoBE,aAAK,SAAS,CAAC,SAAf,wBACE,gCACE,KAAC,SAAD,IADF,EADF,cAIE,gCACE,KAAC,aAAD,IADF,EAJF,GApBF,GApBF,cAiDE,YAAK,SAAS,CAAC,OAAf,uBACE,gCACE,KAAC,UAAD,IADF,EADF,EAjDF,GAHF,cA0DE,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,SAAS,CAAC,aAAf,UAA8BsB,aAAa,CAAClB,WAAD,CAA3C,EADF,cAEE,cACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,aAFZ,CAGE,GAAG,CAAEG,WAHP,CAIE,QAAQ,CAAEsB,cAJZ,EAFF,cAQE,YAAK,SAAS,CAAC,UAAf,UACG3B,QAAQ,EAAI,CAAC+B,KAAK,CAAC/B,QAAD,CAAlB,EAAgCoB,aAAa,CAACpB,QAAD,CAA7C,CACGoB,aAAa,CAACpB,QAAD,CADhB,CAEG,EAHN,EARF,GA1DF,GAJF,GADF,CAgFD,CAED,OAASP,WAAT","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport \"../Styles/MusicPlayer.css\";\r\nimport {\r\n  FaBackward,\r\n  FaForward,\r\n  FaHeart,\r\n  FaPause,\r\n  FaPlay,\r\n  FaRegHeart,\r\n  FaShareAlt,\r\n  FaStepBackward,\r\n  FaStepForward,\r\n} from \"react-icons/fa\";\r\nimport { BsDownload } from \"react-icons/bs\";\r\n\r\nfunction MusicPlayer({ song, imgSrc }) {\r\n  const [isLove, setLoved] = useState(false);\r\n  const [isPlaying, setPlaying] = useState(false);\r\n  const [duration, setDuration] = useState(0);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n\r\n  const audioPlayer = useRef(); //audio tag\r\n  const progressBar = useRef(); //progressbar\r\n  const animationRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const seconds = Math.floor(audioPlayer?.current?.duration);\r\n    setDuration(seconds);\r\n  }, [audioPlayer?.current?.loadedmetadata, audioPlayer?.current?.readyState]);\r\n\r\n  const changePlayPause = () => {\r\n    const prevValue = isPlaying;\r\n    if (!prevValue) {\r\n      audioPlayer.current.play();\r\n      animationRef.current = requestAnimationFrame(whilePlaying);\r\n    } else {\r\n      audioPlayer.current.pause();\r\n      cancelAnimationFrame(animationRef.current);\r\n    }\r\n    setPlaying(!prevValue);\r\n  };\r\n\r\n  const CalculateTime = (sec) => {\r\n    const minutes = Math.floor(sec / 60);\r\n    const returnMin = minutes < 10 ? `${minutes}` : `${minutes}`;\r\n\r\n    const seconds = Math.floor(sec % 60);\r\n    const returnSec = minutes < 10 ? `${seconds}` : `${seconds}`;\r\n\r\n    return `${returnMin}:${returnSec}`;\r\n  };\r\n\r\n  const whilePlaying = () => {\r\n    progressBar.current.value = audioPlayer.current.currentTime;\r\n    changeCurrentTime();\r\n    animationRef.current = requestAnimationFrame(whilePlaying);\r\n  };\r\n\r\n  const changeProgress = () => {\r\n    audioPlayer.current.currentTime = progressBar.current.value;\r\n    changeCurrentTime();\r\n  };\r\n\r\n  const changeCurrentTime = () => {\r\n    audioPlayer.current.currentTime = progressBar.current.value;\r\n    progressBar.current.style.setProperty(\r\n      \"--player-played\",\r\n      `${(progressBar.current.value / duration) * 100}%`\r\n    );\r\n\r\n    setCurrentTime(progressBar.current.value);\r\n  };\r\n\r\n  const changeLoved = () => {\r\n    setLoved(!isLove);\r\n  };\r\n\r\n  //console.log(song, imgSrc);\r\n  return (\r\n    <div className=\"musicPlayer\">\r\n      <div className=\"songImage\">\r\n        <img src={imgSrc} alt=\"check connection\" />\r\n      </div>\r\n      <div className=\"songAttributes\">\r\n        <audio src={song} preload=\"metadata\" ref={audioPlayer} />\r\n\r\n        <div className=\"top\">\r\n          <div className=\"left\">\r\n            <div className=\"loved\" onClick={changeLoved}>\r\n              {isLove ? (\r\n                <i>\r\n                  <FaHeart />\r\n                </i>\r\n              ) : (\r\n                <i>\r\n                  <FaRegHeart />\r\n                </i>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"download\">\r\n              <i>\r\n                <BsDownload />\r\n              </i>\r\n            </div>\r\n          </div>\r\n          <div className=\"middle\">\r\n            <div className=\"back\">\r\n              <i>\r\n                <FaStepBackward />\r\n              </i>\r\n              <i>\r\n                <FaBackward />\r\n              </i>\r\n            </div>\r\n            <div className=\"palyPause\" onClick={changePlayPause}>\r\n              {isPlaying ? (\r\n                <i>\r\n                  <FaPause />\r\n                </i>\r\n              ) : (\r\n                <i>\r\n                  <FaPlay />\r\n                </i>\r\n              )}\r\n            </div>\r\n            <div className=\"forward\">\r\n              <i>\r\n                <FaForward />\r\n              </i>\r\n              <i>\r\n                <FaStepForward />\r\n              </i>\r\n            </div>\r\n          </div>\r\n          <div className=\"right\">\r\n            <i>\r\n              <FaShareAlt />\r\n            </i>\r\n          </div>\r\n        </div>\r\n        <div className=\"bottom\">\r\n          <div className=\"currentTime\">{CalculateTime(currentTime)}</div>\r\n          <input\r\n            type=\"range\"\r\n            className=\"progressBar\"\r\n            ref={progressBar}\r\n            onChange={changeProgress}\r\n          />\r\n          <div className=\"duration\">\r\n            {duration && !isNaN(duration) && CalculateTime(duration)\r\n              ? CalculateTime(duration)\r\n              : \"\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { MusicPlayer };\r\n"]},"metadata":{},"sourceType":"module"}